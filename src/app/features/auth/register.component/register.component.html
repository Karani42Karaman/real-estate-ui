<div class="register-container">
  <!-- Background Decoration -->
  <div class="background-shapes">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
  </div>

  <!-- Register Card -->
  <div class="register-card">
    <!-- Header -->
    <div class="register-header">
      <button class="back-button" (click)="navigateToLogin()" aria-label="GiriÅŸ sayfasÄ±na dÃ¶n">
        <span class="back-icon">â†</span>
      </button>
      
      <div class="logo">
        <span class="logo-icon">ğŸ </span>
        <span class="logo-text">EmlakNet</span>
      </div>
      
      <h1 class="register-title">Hesap OluÅŸtur</h1>
      <p class="register-subtitle">Hemen Ã¼cretsiz Ã¼ye olun</p>

      <!-- Progress Steps -->
      <div class="progress-steps">
        <div class="step" [class.active]="currentStep === 1" [class.completed]="currentStep > 1">
          <div class="step-number">
            <span *ngIf="currentStep <= 1">1</span>
            <span *ngIf="currentStep > 1">âœ“</span>
          </div>
          <span class="step-label">KiÅŸisel Bilgiler</span>
        </div>
        <div class="step-line" [class.completed]="currentStep > 1"></div>
        <div class="step" [class.active]="currentStep === 2">
          <div class="step-number">2</div>
          <span class="step-label">GÃ¼venlik</span>
        </div>
      </div>
    </div>

    <!-- Register Form -->
    <form class="register-form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      
      <!-- STEP 1: KiÅŸisel Bilgiler -->
      <div class="form-step" *ngIf="currentStep === 1">
        <!-- Ad -->
        <div class="form-group">
          <label for="firstName" class="form-label">
            Ad <span class="required">*</span>
          </label>
          <div class="input-wrapper">
            <span class="input-icon">ğŸ‘¤</span>
            <input
              id="firstName"
              type="text"
              class="form-input"
              formControlName="firstName"
              placeholder="AdÄ±nÄ±z"
              [class.error]="firstName?.invalid && firstName?.touched"
            />
          </div>
          <span class="error-message" *ngIf="firstName?.invalid && firstName?.touched">
            {{ getErrorMessage('firstName') }}
          </span>
        </div>

        <!-- Soyad -->
        <div class="form-group">
          <label for="lastName" class="form-label">
            Soyad <span class="required">*</span>
          </label>
          <div class="input-wrapper">
            <span class="input-icon">ğŸ‘¤</span>
            <input
              id="lastName"
              type="text"
              class="form-input"
              formControlName="lastName"
              placeholder="SoyadÄ±nÄ±z"
              [class.error]="lastName?.invalid && lastName?.touched"
            />
          </div>
          <span class="error-message" *ngIf="lastName?.invalid && lastName?.touched">
            {{ getErrorMessage('lastName') }}
          </span>
        </div>

        <!-- E-posta -->
        <div class="form-group">
          <label for="email" class="form-label">
            E-posta Adresi <span class="required">*</span>
          </label>
          <div class="input-wrapper">
            <span class="input-icon">âœ‰ï¸</span>
            <input
              id="email"
              type="email"
              class="form-input"
              formControlName="email"
              placeholder="ornek@email.com"
              [class.error]="email?.invalid && email?.touched"
            />
          </div>
          <span class="error-message" *ngIf="email?.invalid && email?.touched">
            {{ getErrorMessage('email') }}
          </span>
        </div>

        <!-- Telefon -->
        <div class="form-group">
          <label for="phoneNumber" class="form-label">
            Telefon NumarasÄ± <span class="required">*</span>
          </label>
          <div class="input-wrapper">
            <span class="input-icon">ğŸ“±</span>
            <input
              id="phoneNumber"
              type="tel"
              class="form-input"
              formControlName="phoneNumber"
              placeholder="05XX XXX XX XX"
              [class.error]="phoneNumber?.invalid && phoneNumber?.touched"
              (input)="formatPhoneNumber($event)"
            />
          </div>
          <span class="error-message" *ngIf="phoneNumber?.invalid && phoneNumber?.touched">
            {{ getErrorMessage('phoneNumber') }}
          </span>
          <span class="help-text">Ä°lan sahipleri ile iletiÅŸim iÃ§in kullanÄ±lacak</span>
        </div>

        <!-- Next Button -->
        <button type="button" class="next-button" (click)="nextStep()">
          Devam Et
          <span class="arrow-icon">â†’</span>
        </button>
      </div>

      <!-- STEP 2: GÃ¼venlik -->
      <div class="form-step" *ngIf="currentStep === 2">
        <!-- Åifre -->
        <div class="form-group">
          <label for="password" class="form-label">
            Åifre <span class="required">*</span>
          </label>
          <div class="input-wrapper">
            <span class="input-icon">ğŸ”’</span>
            <input
              id="password"
              [type]="showPassword ? 'text' : 'password'"
              class="form-input"
              formControlName="password"
              placeholder="En az 6 karakter"
              [class.error]="password?.invalid && password?.touched"
            />
            <button
              type="button"
              class="password-toggle"
              (click)="togglePasswordVisibility()"
              aria-label="Åifreyi gÃ¶ster/gizle"
            >
              <span *ngIf="!showPassword">ğŸ‘ï¸</span>
              <span *ngIf="showPassword">ğŸ™ˆ</span>
            </button>
          </div>
          <span class="error-message" *ngIf="password?.invalid && password?.touched">
            {{ getErrorMessage('password') }}
          </span>

          <!-- Åifre GÃ¼cÃ¼ -->
          <div class="password-strength" *ngIf="password?.value">
            <div class="strength-bar">
              <div class="strength-fill" [style.width]="getPasswordStrength().width" 
                   [style.background]="getPasswordStrength().color"></div>
            </div>
            <span class="strength-text" [style.color]="getPasswordStrength().color">
              {{ getPasswordStrength().strength }}
            </span>
          </div>
        </div>

        <!-- Åifre Tekrar -->
        <div class="form-group">
          <label for="confirmPassword" class="form-label">
            Åifre Tekrar <span class="required">*</span>
          </label>
          <div class="input-wrapper">
            <span class="input-icon">ğŸ”’</span>
            <input
              id="confirmPassword"
              [type]="showConfirmPassword ? 'text' : 'password'"
              class="form-input"
              formControlName="confirmPassword"
              placeholder="Åifrenizi tekrar girin"
              [class.error]="(confirmPassword?.invalid && confirmPassword?.touched) || registerForm.errors?.['passwordMismatch']"
            />
            <button
              type="button"
              class="password-toggle"
              (click)="toggleConfirmPasswordVisibility()"
              aria-label="Åifreyi gÃ¶ster/gizle"
            >
              <span *ngIf="!showConfirmPassword">ğŸ‘ï¸</span>
              <span *ngIf="showConfirmPassword">ğŸ™ˆ</span>
            </button>
          </div>
          <span class="error-message" *ngIf="(confirmPassword?.invalid && confirmPassword?.touched) || (confirmPassword?.touched && registerForm.errors?.['passwordMismatch'])">
            {{ getErrorMessage('confirmPassword') }}
          </span>
        </div>

        <!-- KullanÄ±m ÅartlarÄ± -->
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input
              type="checkbox"
              formControlName="acceptTerms"
              class="checkbox-input"
            />
            <span class="checkbox-box"></span>
            <span class="checkbox-text">
              <a href="#" class="link">KullanÄ±m ÅartlarÄ±</a> ve 
              <a href="#" class="link">Gizlilik PolitikasÄ±</a>'nÄ± okudum, kabul ediyorum
              <span class="required">*</span>
            </span>
          </label>
          <span class="error-message" *ngIf="acceptTerms?.invalid && acceptTerms?.touched">
            Devam etmek iÃ§in kullanÄ±m ÅŸartlarÄ±nÄ± kabul etmelisiniz
          </span>
        </div>

        <!-- Pazarlama Ä°zni -->
        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input
              type="checkbox"
              formControlName="acceptMarketing"
              class="checkbox-input"
            />
            <span class="checkbox-box"></span>
            <span class="checkbox-text">
              Kampanya ve duyurulardan haberdar olmak istiyorum
            </span>
          </label>
        </div>

        <!-- Buttons -->
        <div class="button-group">
          <button type="button" class="back-step-button" (click)="previousStep()">
            <span class="arrow-icon">â†</span>
            Geri
          </button>
          <button
            type="submit"
            class="submit-button"
            [disabled]="isLoading || registerForm.invalid"
            [class.loading]="isLoading"
          >
            <span *ngIf="!isLoading">KayÄ±t Ol</span>
            <span *ngIf="isLoading" class="loading-spinner">
              <span class="spinner"></span>
              KayÄ±t ediliyor...
            </span>
          </button>
        </div>
      </div>

      <!-- Demo Fill Button -->
      <button
        type="button"
        class="demo-button"
        (click)="onDemoFill()"
        [disabled]="isLoading"
      >
        <span class="demo-icon">ğŸ¯</span>
        Demo Verilerle Doldur
      </button>
    </form>

    <!-- Divider -->
    <div class="divider">
      <span class="divider-text">veya</span>
    </div>

    <!-- Social Register -->
    <div class="social-register">
      <button class="social-button google" disabled>
        <span class="social-icon">G</span>
        Google ile KayÄ±t Ol
      </button>
      <button class="social-button facebook" disabled>
        <span class="social-icon">f</span>
        Facebook ile KayÄ±t Ol
      </button>
    </div>

    <!-- Login Link -->
    <div class="login-section">
      <p class="login-text">
        Zaten hesabÄ±nÄ±z var mÄ±?
        <button
          type="button"
          class="login-link"
          (click)="navigateToLogin()"
        >
          GiriÅŸ YapÄ±n
        </button>
      </p>
    </div>

    <!-- Footer -->
    <div class="register-footer">
      <p class="footer-text">
        KayÄ±t olarak TÃ¼rkiye Cumhuriyeti yasalarÄ±na tabi olduÄŸunuzu kabul etmiÅŸ sayÄ±lÄ±rsÄ±nÄ±z.
      </p>
    </div>
  </div>
</div>
<div class="dashboard-container">
  <!-- Mobile Header -->
  <div class="mobile-header">
    <button class="mobile-menu-btn" (click)="toggleMobileSidebar()">
      <span class="hamburger-icon">â˜°</span>
    </button>
    <div class="mobile-logo">
      <span class="logo-icon">ğŸ </span>
      <span class="logo-text">EmlakNet</span>
    </div>
    <div class="mobile-placeholder"></div>
  </div>

  <!-- Sidebar Overlay -->
  <div 
    class="sidebar-overlay" 
    *ngIf="isMobileSidebarOpen"
    (click)="closeMobileSidebar()"
  ></div>

  <!-- Sidebar -->
  <aside class="dashboard-sidebar" [class.mobile-open]="isMobileSidebarOpen">
    <div class="sidebar-header">
      <div class="logo">
        <span class="logo-icon">ğŸ </span>
        <span class="logo-text">EmlakNet</span>
      </div>
    </div>

    <div class="sidebar-user" *ngIf="currentUser">
      <div class="user-avatar">
        {{ currentUser.firstName.charAt(0) }}{{ currentUser.lastName.charAt(0) }}
      </div>
      <div class="user-info">
        <div class="user-name">{{ currentUser.firstName }} {{ currentUser.lastName }}</div>
        <div class="user-email">{{ currentUser.email }}</div>
      </div>
    </div>

    <nav class="sidebar-nav">
      <a class="nav-item active" routerLink="/customer/dashboard" (click)="closeMobileSidebar()">
        <span class="nav-icon">ğŸ“Š</span>
        <span class="nav-text">Dashboard</span>
      </a>
      <a class="nav-item" routerLink="/customer/properties" (click)="closeMobileSidebar()">
        <span class="nav-icon">ğŸ </span>
        <span class="nav-text">Ä°lanlarÄ±m</span>
      </a>
      <a class="nav-item" routerLink="/customer/favorites" (click)="closeMobileSidebar()">
        <span class="nav-icon">â¤ï¸</span>
        <span class="nav-text">Favorilerim</span>
      </a>
      <a class="nav-item" routerLink="/customer/messages" (click)="closeMobileSidebar()">
        <span class="nav-icon">ğŸ’¬</span>
        <span class="nav-text">Mesajlar</span>
        <span class="nav-badge">3</span>
      </a>
      <a class="nav-item" routerLink="/customer/profile" (click)="closeMobileSidebar()">
        <span class="nav-icon">âš™ï¸</span>
        <span class="nav-text">Ayarlar</span>
      </a>
      <button class="nav-item logout" (click)="logout(); closeMobileSidebar()">
        <span class="nav-icon">ğŸšª</span>
        <span class="nav-text">Ã‡Ä±kÄ±ÅŸ Yap</span>
      </button>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="dashboard-main">
    <!-- Header -->
    <header class="dashboard-header">
      <div class="header-content">
        <h1 class="page-title">Ä°lanlarÄ±m</h1>
        <button class="btn-create-property" (click)="createNewProperty()">
          <span class="btn-icon">â•</span>
          Yeni Ä°lan OluÅŸtur
        </button>
      </div>
    </header>

    <!-- Stats Cards -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">ğŸ“‹</div>
        <div class="stat-content">
          <div class="stat-value">{{ stats.totalProperties }}</div>
          <div class="stat-label">Toplam Ä°lan</div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">âœ…</div>
        <div class="stat-content">
          <div class="stat-value">{{ stats.activeProperties }}</div>
          <div class="stat-label">Aktif Ä°lan</div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">ğŸ‘ï¸</div>
        <div class="stat-content">
          <div class="stat-value">{{ stats.totalViews }}</div>
          <div class="stat-label">Toplam GÃ¶rÃ¼ntÃ¼lenme</div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">â¤ï¸</div>
        <div class="stat-content">
          <div class="stat-value">{{ stats.totalFavorites }}</div>
          <div class="stat-label">Favoriye Eklenme</div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">ğŸ“</div>
        <div class="stat-content">
          <div class="stat-value">{{ stats.totalContacts }}</div>
          <div class="stat-label">Ä°letiÅŸim</div>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">âœ”ï¸</div>
        <div class="stat-content">
          <div class="stat-value">{{ stats.soldProperties }}</div>
          <div class="stat-label">SatÄ±lan/Kiralanan</div>
        </div>
      </div>
    </div>

    <!-- Filter Tabs -->
    <div class="filter-tabs">
      <button 
        class="filter-tab" 
        [class.active]="activeTab === 'all'"
        (click)="filterProperties('all')"
      >
        TÃ¼mÃ¼ ({{ myProperties.length }})
      </button>
      <button 
        class="filter-tab" 
        [class.active]="activeTab === 'active'"
        (click)="filterProperties('active')"
      >
        Aktif ({{ stats.activeProperties }})
      </button>
      <button 
        class="filter-tab" 
        [class.active]="activeTab === 'sold'"
        (click)="filterProperties('sold')"
      >
        SatÄ±lan/Kiralanan ({{ stats.soldProperties }})
      </button>
      <button 
        class="filter-tab" 
        [class.active]="activeTab === 'inactive'"
        (click)="filterProperties('inactive')"
      >
        Pasif
      </button>
    </div>

    <!-- Properties List -->
    <div class="properties-section">
      <!-- Loading -->
      <div *ngIf="loading" class="loading-container">
        <div class="loading-spinner"></div>
        <p>Ä°lanlar yÃ¼kleniyor...</p>
      </div>

      <!-- Empty State -->
      <div *ngIf="!loading && filteredProperties.length === 0" class="empty-state">
        <div class="empty-icon">ğŸ </div>
        <h3>HenÃ¼z ilan bulunmuyor</h3>
        <p>Hemen ilk ilanÄ±nÄ±zÄ± oluÅŸturun ve binlerce kiÅŸiye ulaÅŸÄ±n!</p>
        <button class="btn-create-property" (click)="createNewProperty()">
          <span class="btn-icon">â•</span>
          Ä°lk Ä°lanÄ± OluÅŸtur
        </button>
      </div>

      <!-- Properties Grid -->
      <div *ngIf="!loading && filteredProperties.length > 0" class="properties-list">
        <div *ngFor="let property of filteredProperties" class="property-item">
          <div class="property-image">
            <div class="image-placeholder">
              <span>FotoÄŸraf</span>
            </div>
            <div class="property-badges">
              <span class="badge badge-status" [ngClass]="getStatusClass(property.status)">
                {{ getStatusLabel(property.status) }}
              </span>
              <span class="badge badge-vip" *ngIf="property.isVip">VIP</span>
              <span class="badge badge-featured" *ngIf="property.isFeatured">Ã–ne Ã‡Ä±kan</span>
            </div>
          </div>

          <div class="property-content">
            <div class="property-header">
              <h3 class="property-title">{{ property.title }}</h3>
              <div class="property-toggle">
                <label class="switch">
                  <input 
                    type="checkbox" 
                    [checked]="property.isActive"
                    (change)="togglePropertyStatus(property)"
                  />
                  <span class="slider"></span>
                </label>
              </div>
            </div>

            <div class="property-info">
              <div class="property-price">{{ formatPrice(property.price) }}</div>
              <div class="property-location">
                ğŸ“ {{ property.address.district }}, {{ property.address.city }}
              </div>
              <div class="property-details">
                <span *ngIf="property.details?.rooms">ğŸ›ï¸ {{ property.details.rooms }} Oda</span>
                <span *ngIf="property.details?.area">ğŸ“ {{ property.details.area }} mÂ²</span>
              </div>
            </div>

            <div class="property-stats">
              <div class="stat-item">
                <span class="stat-icon">ğŸ‘ï¸</span>
                <span class="stat-text">{{ property.statistics.viewCount }}</span>
              </div>
              <div class="stat-item">
                <span class="stat-icon">â¤ï¸</span>
                <span class="stat-text">{{ property.statistics.favoriteCount }}</span>
              </div>
              <div class="stat-item">
                <span class="stat-icon">ğŸ“</span>
                <span class="stat-text">{{ property.statistics.contactCount }}</span>
              </div>
            </div>

            <div class="property-meta">
              <span class="property-date">{{ formatDate(property.createdAt) }}</span>
            </div>

            <div class="property-actions">
              <button class="btn-action btn-view" (click)="viewProperty(property)" title="GÃ¶rÃ¼ntÃ¼le">
                <span class="btn-icon">ğŸ‘ï¸</span>
                GÃ¶rÃ¼ntÃ¼le
              </button>
              <button class="btn-action btn-edit" (click)="editProperty(property)" title="DÃ¼zenle">
                <span class="btn-icon">âœï¸</span>
                DÃ¼zenle
              </button>
              <button class="btn-action btn-delete" (click)="confirmDelete(property)" title="Sil">
                <span class="btn-icon">ğŸ—‘ï¸</span>
                Sil
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Delete Confirmation Modal -->
  <div class="modal-overlay" *ngIf="showDeleteModal" (click)="closeDeleteModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3>Ä°lanÄ± Sil</h3>
        <button class="modal-close" (click)="closeDeleteModal()">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="modal-icon warning">âš ï¸</div>
        <p>
          <strong>{{ selectedProperty?.title }}</strong> baÅŸlÄ±klÄ± ilanÄ± silmek istediÄŸinizden emin misiniz?
        </p>
        <p class="warning-text">Bu iÅŸlem geri alÄ±namaz!</p>
      </div>
      <div class="modal-actions">
        <button class="btn-modal btn-cancel" (click)="closeDeleteModal()">
          Ä°ptal
        </button>
        <button class="btn-modal btn-confirm-delete" (click)="deleteProperty()">
          Evet, Sil
        </button>
      </div>
    </div>
  </div>
</div>